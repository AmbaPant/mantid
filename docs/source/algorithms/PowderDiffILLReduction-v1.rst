.. algorithm::

.. summary::

.. alias::

.. properties::

Description
-----------

This algorithm performs the data reduction for D20 instrument at the ILL.

Input runs
----------

Provide the list of the input runs (e.g. one `.nxs` file corresponding to a single temperature point) following the syntax in
:py:obj:`MultipleFileProperty <mantid.api.MultipleFileProperty>`.

Summing of individual runs is possible, and if requested it will be carried out by :ref:`MergeRuns <algm-MergeRuns>`, taking into account the
metadata.

The list of unsummed files will be eventually combined with :ref:`ConjoinXRuns <algm-ConjoinXRuns>`.

Scanning observable
-------------------

The scanning observable can be any numeric metadata (sample log entry) associated one per input run.
It is possible to request ordering by the observable for the final result.

Calibration file
----------------

This has to be a processed `.nxs` containing a single-column workspace of calibration constants generated by
:ref:`PowderDiffILLCalibration <algm-PowderDiffILLCalibration>`, and then saved with :ref:`SaveNexusProcessed <algm-SaveNexusProcessed>`.

Normalisation options
---------------------

Choose one of the 4 options suggested. If region-of-interest (ROI) normalisation is requested, provide ROI as a list of ranges in scattering angle in degrees,
for example `10,20,50,100` will mean `[10-20]` and `[50-100]`.

Output
------

The output of the algorithm is a single workspace, one spectrum (diffractogram) per each observable (e.g. temperature) point.
This algorithm does not save the output to a file itself.
To save it later in *FullProf* format *#10*, choose to prepare to save correspondingly, which will cut out the negative scattering angle
part and zero-counting cells. Then run :ref:`SaveFocusedXYE <algm-SaveFocusedXYE>` to save.

Workflow
--------

.. diagram:: PowderDiffILLReduction-v1_wkflw.dot

Related Algorithms
------------------

:ref:`PowderDiffILLCalibration <algm-PowderDiffILLCalibration>` reads a detector-scan run and calculates the detector efficiency constants.

Usage
-----

.. categories::

.. sourcelink::
