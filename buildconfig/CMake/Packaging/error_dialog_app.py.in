import sys
from PyQt4 import QtGui, QtCore
import mantid
from ErrorReporter.error_report_presenter import ErrorReporterPresenter
from ErrorReporter.error_report_outside import CrashReportPage
import argparse

def main():
    parser = argparse.ArgumentParser(description='Pass in exit_code')
    parser.add_argument('--exitcode', dest='exit_code')
    command_line_args = parser.parse_args()
    app = QtGui.QApplication(sys.argv)
    form = CrashReportPage()
    presenter = ErrorReporterPresenter(form, command_line_args.exit_code)
    app.exec_()


if __name__ == '__main__':              # if we're running file directly and not importing it
    main()                              # run the main function